<!DOCTYPE html>
<html>

<head>
  <script>
    // Notify the outermost frame whether subresource is visible.
    // Since these frames have different origins, we must bypass
    // cross-site-scripting security and send the information via window.top.
    window.onload = function () {
      var subresource_visble = window.getComputedStyle(document.getElementById('subresource')).display != 'none'
      window.top.postMessage(subresource_visble, '*');
    };
  </script>
</head>

<body>
  <img id='subresource' src='resource.png' />
</body>

</html>