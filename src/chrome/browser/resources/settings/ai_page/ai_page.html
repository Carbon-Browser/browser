<style include="cr-shared-style settings-shared">
  .list-frame {
    padding-inline-end: 0;
  }

  .list-frame settings-toggle-button {
    padding-inline-start: 0;
  }
</style>

<settings-toggle-button
    pref="{{prefs.optimization_guide.model_execution_main_toggle_setting_state}}"
    numeric-unchecked-values="[[numericUncheckedValues_]]"
    numeric-checked-value="[[featureOptInStateEnum_.ENABLED]]"
    label="$i18n{experimentalAdvancedFeatureMainLabel}"
    sub-label="$i18n{experimentalAdvancedFeatureMainSublabel}"
    on-settings-boolean-control-change="onToggleChange_">
</settings-toggle-button>

<iron-collapse opened="[[isExpanded_(
    prefs.optimization_guide.model_execution_main_toggle_setting_state.value)]]">
  <div class="list-frame">
    <settings-toggle-button
        hidden="[[!showComposeControl_]]"
        pref="{{prefs.optimization_guide.compose_setting_state}}"
        numeric-unchecked-values="[[numericUncheckedValues_]]"
        numeric-checked-value="[[featureOptInStateEnum_.ENABLED]]"
        label="$i18n{experimentalAdvancedFeature1Label}"
        sub-label="$i18n{experimentalAdvancedFeature1Sublabel}"
        on-settings-boolean-control-change="onToggleChange_">
    </settings-toggle-button>
    <settings-toggle-button
        class$="[[getTabOrganizationHrCssClass_(showComposeControl_)]]"
        hidden="[[!showTabOrganizationControl_]]"
        pref="{{prefs.optimization_guide.tab_organization_setting_state}}"
        numeric-unchecked-values="[[numericUncheckedValues_]]"
        numeric-checked-value="[[featureOptInStateEnum_.ENABLED]]"
        label="$i18n{experimentalAdvancedFeature2Label}"
        sub-label="$i18n{experimentalAdvancedFeature2Sublabel}"
        on-settings-boolean-control-change="onToggleChange_">
    </settings-toggle-button>
    <settings-toggle-button
        class$="[[getWallpaperSearchHrCssClass_(
            showComposeControl_, showTabOrganizationControl_)]]"
        hidden="[[!showWallpaperSearchControl_]]"
        pref="{{prefs.optimization_guide.wallpaper_search_setting_state}}"
        numeric-unchecked-values="[[numericUncheckedValues_]]"
        numeric-checked-value="[[featureOptInStateEnum_.ENABLED]]"
        label="$i18n{experimentalAdvancedFeature3Label}"
        sub-label="$i18n{experimentalAdvancedFeature3Sublabel}"
        on-settings-boolean-control-change="onToggleChange_">
    </settings-toggle-button>
  </div>
</iron-collapse>

<cr-toast id="toast">
  <div>$i18n{restartToApplyChanges}</div>
  <cr-button on-click="onRestartClick_">$i18n{restart}</cr-button>
</cr-toast>

<if expr="not chromeos_ash">
<template is="dom-if" if="[[shouldShowRelaunchDialog]]" restamp>
  <relaunch-confirmation-dialog restart-type="[[restartTypeEnum.RESTART]]"
      on-close="onRelaunchDialogClose"></relaunch-confirmation-dialog>
</template>
</if>
