# Copyright 2022 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/util/process_version.gni")

source_set("keystone_glue") {
  sources = [
    "keystone_glue.h",
    "keystone_glue.mm",
    "keystone_registration.h",
    "keystone_registration.mm",
  ]

  deps = [
    "//base",
    "//chrome:strings",
    "//chrome/app:generated_resources",
    "//chrome/common:channel_info",
    "//chrome/common:non_code_constants",
    "//components/version_info",
    "//ui/base",
  ]
}

process_version("install") {
  extra_args = [
    "-e",
    "SHEBANGGUARD=\"\"",
  ]
  process_only = true
  executable = true
  template_file = "install.sh.in"
  output = "$target_gen_dir/install.sh"
}
